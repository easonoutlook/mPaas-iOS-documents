@cnName 3 FAQs
@priority 3

# 3 FAQs

## 3.1 How to set the user mode for Data Center?
Applications connected to mPaaS will use their own account systems. If you want to manage the user mode data with Data Center, notify the Data Center as soon as possible for the Data Center to switch user databases. Then you can notify other business layers.
```C
[[APDataCenter defaultDataCenter] setCurrentUserId:userId];
```
When a user signs out, you don't have to call the setCurrentUserId method. Data Center will continue to open the database of last user, which will not cause problems. 

## 3.2 How to set your default encryption key? 
Data Center provides a default encryption method. Its key will be automatically generated by the appKey passed by the mPaasInit method. We recommend applications accessed to the mPaaS use their own keys. 

You can implement the methods below of the mPaasAppInterface to pass the key in NSData to Data Center. 
```
#pragma mark Data Center

/**
 *  If this method is implemented, you need to return the 32-byte encryption key used by default by the Data Center.  The application can manage the key in Security Guard, or write it on the client after encryption confusion.
 *  You can also choose not to implement this method. In this case, Data Center will use a calculation result from the mPaas and appKey as the encryption key which should provide sufficient security assurance. 
 *
 *  @return The 32-byte key in NSData. 
 */
- (NSData*)appDataCenterDefaultCryptKey;
```
We recommend you generate your own 32-byte key and convert it to a Base64-encoded string to be stored in the Security Guard. In this method, the static interface of the Security Guard fetches this string and converts it to the NSData type by inverse solution. 

## 3.3 Is Data Center thread-safe? 
Yes. All the storage interfaces of Data Center take the thread safety into consideration. They can be called in any thread. 


